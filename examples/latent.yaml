arch:
  d_model: 512
  n_layers: 12
  norm: RMSNorm
  mix_unit:
    kind: "single"
    mixer: { kind: "Attention", heads: 8, groups: 4, pos: "rope" }
  ffn: { kind: "dense", mult: 2.0, act: "swiglu" }
  pos: { kind: "rope", rope: { theta: 10000, dims: 64 } }
  cond:
    source: { kind: "pool-mlp", H: 16 }
    reg: { kind: "freebits", kappa: 1.0 }
    ops:
      - { where: "pre_mixer", op: "film", share: "per_channel" }
      - { where: "proj_q", op: "lora", r: 8 }
  kv_policy: { cache: "full" }
train: { ctx_len: 2048, dtype: fp16 }
budget: { params_target: 61000000, flops_target: "match:baseline" }

